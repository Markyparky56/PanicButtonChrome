{
    "manifest_version":     2,

    "name":                 "NoFap Panic Button",
    "description":          "This extension provides an in browser version of the NoFap Emergency Relapse Prevention Tool.",
    "version":              "1.3.0",

    "icons":{
        "16":               "images/icon16.png",
        "19":               "images/icon19.png",
        "32":               "images/icon32.png",
        "48":               "images/icon48.png",
        "64":               "images/icon64.png",
        "128":              "images/icon128.png"
    },

    "browser_action":{
        "default_popup":    "popup.html"
    },

    "options_ui":{
        "page": "options.html",
        "chrome_style": true
    },

    "permissions":[
        "webRequest", "webRequestBlocking",
        "activeTab",
        "storage",
        "*://*.reddit.com/r/*",
        "*://*/*"        
    ],

    "background": {
      "scripts": ["nsfwguard_webrequestlistener.js"]
    },

    "web_accessible_resources": [
      "popupbox.css",
      "popupbox.html"
    ],

    "content_scripts": [        
        {
          "matches": ["*://*/*"],
          "js": ["popupbox.js"],
          "run_at" : "document_end"
        }
    ],

    "content_security_policy":  "script-src 'self'; object-src 'self';"
}
